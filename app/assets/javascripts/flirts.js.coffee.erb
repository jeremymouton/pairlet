# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/

jQuery -> # begin ugliest javascript ever

  # [TODO]
  # - Refactor this monster

  $add_form       = '.flirts .add-flirt #add-form'
  $btn_fb         = '.flirts .box-facebook'
  $btn_tw         = '.flirts .box-twitter'
  $action_btn	  = '.flirts .box-facebook, .box-twitter'
  $flirt_provider = '.flirts #flirt_provider'
  $flirt_handle   = '.flirts #flirt_handle'
  $info_tw		  = '.flirts .info-twitter'
  $info_fb		  = '.flirts .info-facebook'
  $note			  = '.flirts span.small'
  $cancel         = '.flirts .btn-cancel'
 
  $($add_form).hide()
  $($info_tw).hide()
  $($info_fb).hide()

  # cancel button hides elements
  $($cancel).click -> 
  	$($action_btn).show()
  	$($add_form).hide()
  	$($info_tw).hide()
  	$($info_fb).hide()
  	$($note).show()

  # Set Facebook flirt entry info
  $($btn_fb).click ->
    $($action_btn).hide()
    $($add_form).show()
    $($flirt_provider).val('facebook').css('display','none')
    $(flirt_handle).attr('placeholder', 'Facebook Username')
    $($info_fb).show()
    $($note).hide()

  # Set Twitter flirt entry info
  $($btn_tw).click ->
    $($action_btn).hide()
    $($add_form).show()
    $($flirt_provider).val('twitter').css('display','none')
    $(flirt_handle).attr('placeholder', 'Twitter Username')
    $($info_tw).show()
    $($note).hide()
